{% extends 'base.html' %}

{% block title %}Edit Profile{% endblock %}

{% block content %}
<h1>Edit Profile</h1>
<form id="editProfileForm" action="{{ url_for('edit_profile') }}" method="post">
    <div class="form-group">
        <label for="new_password">New Password</label>
        <input type="password" class="form-control" id="new_password" name="new_password" required>
    </div>
    <div class="form-group">
        <label for="confirm_password">Confirm Password</label>
        <input type="password" class="form-control" id="confirm_password" name="confirm_password" required>
    </div>
    <div class="form-group">
        <span id="passwordError" style="color: red;"></span>
    </div>
    <button type="submit" class="btn btn-primary">Update Password</button>
</form>

<script>
document.getElementById('editProfileForm').addEventListener('submit', function(event) {
    const newPassword = document.getElementById('new_password').value;
    const confirmPassword = document.getElementById('confirm_password').value;
    const errorSpan = document.getElementById('passwordError');

    if (newPassword !== confirmPassword) {
        errorSpan.textContent = 'Passwords do not match';
        event.preventDefault();  // Prevent form submission
    } else {
        errorSpan.textContent = '';  // Clear any previous error message
    }
});
</script>
{% endblock %}
